<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>우리가족지킴이</title>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/gh/Eonasdan/tempus-dominus@master/dist/js/tempus-dominus.js" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/gh/Eonasdan/tempus-dominus@master/dist/css/tempus-dominus.css" rel="stylesheet" crossorigin="anonymous">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" rel="stylesheet">
        <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link href="./css/userDevice.css" rel="stylesheet">
    </head>
    <body>
        <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
            <header>                
            <div>
                <h3 class="float-md-start mb-0"></h3>
                <nav class="nav nav-masthead justify-content-center float-md-end">
                    <a class="nav-link" href="../../../../../../웹%20달력부분">Home</a>
                    <a class="nav-link" href="./features.html">Features</a>
                    <a class="nav-link" href="./contact.html">Contact</a>
                    <a class="nav-link" href="javascript:void(0)" onclick="kakaoLogout();">Logout</a>
                </nav>
            </div>
            </header>
            <hr style="border: 0px; height: 0px;">
            <form action="./data.php" method="post">
                <div class='input-group' id='datetimepicker1' data-td-target-input='nearest' data-td-target-toggle='nearest'>
                <input id='datetimepicker1Input' type='text' class='form-control' data-td-target='#datetimepicker1' />
                <span class='input-group-text' data-td-target='#datetimepicker1' data-td-toggle='datetimepicker'>
                    <span class='fa fa-solid fa-calendar'></span>
                </span>
                <button type="submit" class="btn btn-outline-success">날짜 조회</button>
                </div>
            </form>
            <table border="1">
                <tr>
                    <td>기기 id</td>
                    <td>기기 상태</td>
                    <td>시간</td>
                    <td>방향</td>
                    <td>tx배터리</td>
                    <td>rx배터리</td>
                </tr>
                <tr th:each="testobj : ${test}">
                    <td th:text="${testobj.deviceId}">기기 id</td>
                    <td th:text="${testobj.OnOff}">기기 상태</td>
                    <td th:text="${testobj.time}">시간</td>
                    <td th:text="${testobj.vector}">방향</td>
                    <td th:text="${testobj.txBattery}+'%'">tx배터리</td>
                    <td th:text="${testobj.rxBattery}+'%'">rx배터리</td>
                </tr>
            </table>
        </div>




        <script>
            new tempusDominus.TempusDominus(document.getElementById('datetimepicker1'), {
            display: { 
                components: {
                    seconds: false,
                    useTwentyfourHour: false,
                },
                icons: {
                    type: 'icons',
                    time: 'fa fa-solid fa-clock',
                    date: 'fa fa-solid fa-calendar',
                    up: 'fa fa-solid fa-arrow-up',
                    down: 'fa fa-solid fa-arrow-down',
                    previous: 'fa fa-solid fa-chevron-left',
                    next: 'fa fa-solid fa-chevron-right',
                    today: 'fa fa-solid fa-calendar-check',
                    clear: 'fa fa-solid fa-trash',
                    close: 'fas fa-solid fa-xmark'
                },
            },
        });
        </script>
        <footer class="mt-auto text-black text-center">
            <p>Cover 2022, Gavengers Allrights reserved </p>
        </footer>
    </body>
</html>
<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
<script>
Kakao.init('9277d84d6be1847891be44f1fc984517');
console.log(Kakao.isInitialized());
function kakaoLogout() {
    if (Kakao.Auth.getAccessToken()) {
      Kakao.API.request({
        url: '/v1/userDevice/unlink',
        success: function (response) {
        	console.log(response)
            location.href = '/index.html'
        },
        fail: function (error) {
          console.log(error)
        },
      })
      Kakao.Auth.setAccessToken(undefined)
    }
  }  
</script>